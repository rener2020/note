---
title: 机器人实验（4）
renderNumberedHeading: true
grammar_cjkRuby: true
---

# 实验任务
实验过程分共**10'**，分为以下几个任务。
- 编写代码远程获取机器人状态（3'）
	- 各轴位置（1‘）
	- 各轴速度（1’）
	- 各轴力矩（1‘）
- 编写代码使机器人运动（3'）
- 编写带有网络通讯的远程机器人控制运动模块（4'）

# 实验过程（10'）
## 编写代码远程获取机器人状态（3'）
在`client.cpp`编写了一份使用socket远程连接机器人的示例程序，
### 各轴角度（调零）（1'）

在运行程序后，目标调试信息如
``` bash
当前机器人状态为：
各轴调零角度
第1轴调零角度为：0.024544
第2轴调零角度为：-0.018703
第3轴调零角度为：0.043596
第4轴调零角度为：-0.091239
第5轴调零角度为：0.003527
第6轴调零角度为：-0.023628
各轴速度
第1轴速度为：0
第2轴速度为：0
第3轴速度为：0
第4轴速度为：0
第5轴速度为：0
第6轴速度为：0
各轴力矩
第1轴力矩为：0
第2轴力矩为：0
第3轴力矩为：-0.0812314
第4轴力矩为：0
第5轴力矩为：0.0775125
第6轴力矩为：0
```

### 各轴速度（1'）
使用差分做速度

在运行程序后，目标调试信息如下,其中第一个`print_joints_velocity`为用户输入：
``` bash
请输入控制字：
print_joints_velocity
执行任务：print_joints_velocity


```


### 各轴力矩（1'）	

在运行程序后，目标调试信息如下,其中第一个`print_joints_effort`为用户输入：
``` bash
请输入控制字：
print_joints_effort
执行任务：print_joints_effort


```

## 编写代码调用关节插补实现各轴运动（4'）

机械臂移动的示例代码已经在函数`joint_move`中给出.
学生需要编写函数：`void joint_move_test(void)`
函数功能如下：
 - 此函数需要一个用户输入，为数字1-6（包含边界），如果用户输入为其他，则在屏幕打印**测试结束，关节测试退出**，然后退出函数
 - 根据用户输入的数字，使得机器人目标轴正方向（逆时针）运动10度
 - 机械臂归零

## 编写代码调节控制夹爪张合（1'）
查看函数`hello`，可以看到控制灯亮灭是往某一位写`1`或`0`，控制夹爪与控制灯类似，区别在于夹爪的地址是第10位。
学生需要编写函数`void test_grasp(void)`
- 此函数接收一个用户输入，`1`或`0`，输入其他在屏幕打印**测试结束，夹爪测试退出**，然后退出函数
- 当用户输入为`1`时关闭夹爪
- 当用户输入为`0`时打开夹爪